<!-- ---------------------------------------------------------------------------------------- Navigacija -->

<nav
  class="navbar navbar-expand-sm navbar-dark"
  ng-init="CheckAdmin(); CheckLoggedIn()"
>
  <a class="navbar-brand text-primary" href="#"
    ><img src="assets/img/logo.png" width="30" height="30" alt="logo" />
    Digipedia</a
  >

  <button
    class="navbar-toggler"
    type="button"
    data-toggle="collapse"
    data-target="#navbar-list"
    aria-controls="navbarNav"
    aria-expanded="false"
    aria-label="Toggle navigation"
  >
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbar-list">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item" ng-if="loggedin"></li>
      <li class="nav-item" ng-if="admin"></li>
    </ul>

    <ul class="navbar-nav">
      <li class="nav-item" ng-if="admin">
        <a class="nav-link text-primary" href="#!administration"
          >Administracija</a
        >
      </li>
      <li class="nav-item" ng-if="!loggedin">
        <a class="nav-link text-primary" href="" ng-click="modalLogIn()"
          ><i class="fa fa-user"></i> Prijava</a
        >
      </li>
      <li class="nav-item" ng-if="!loggedin">
        <a class="nav-link text-primary" href="" ng-click="modalSignUp()"
          ><i class="fa fa-sign-in"></i> Registracija</a
        >
      </li>
      <li class="nav-item" ng-if="loggedin">
        <button class="btn btn-outline-warning" ng-click="Logout()">
          Odjava
        </button>
      </li>
    </ul>
  </div>
</nav>

<div ng-if="!admin">
  <div class="d-flex justify-content-center mt-6">
    <h2 class="text-white mt-6">Greška</h2>
  </div>
</div>

<!-- ---------------------------------------------------------------------------------------- Seredina stranice -->

<div ng-if="admin">
  <div class="row">
    <section class="col-sm-10 lijevo" ng-init="getArticles()">
        <div class=" text-white">
            <h4>Novi članak</h4>
            <form>
                <div class="form-group" ng-init="getCategories()">
                    <label for="select_kategorija">Odaberite kategoriju</label>
                    <select class="form-control" ng-model="category" id="select_kategorija">
                        <option ng-repeat="category in categories" value="{{category.categoryID}}">
                            {{ category.categoryName }}
                        </option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="input_article_title">Naslov članka</label>
                    <input class="form-control" id="input_article_title" rows="3" ng-model="article_title"></input>
                </div>
                <div class="form-group">
                    <label for="input_article_content">Sadržaj članka</label>
                    <textarea class="form-control" id="input_article_content" rows="3"
                        ng-model="article_content"></textarea>
                </div>
                <button class="btn btn-md btn-success" ng-click="AddArticle()" style="float:right">Dodaj članak</button>
            </form>
        </div>
        <div class=" text-white">
            <h4>Nova kategorija</h4>
            <form>
                <div class="form-group">
                    <label for="input_category_name">Naziv kategorije</label>
                    <input type="text" class="form-control" id="input_category_name" rows="3" ng-model="categoryName"></input>
                </div>
                <button class="btn btn-md btn-success" ng-click="AddCategory()" style="float:right">Dodaj
                    kategoriju</button>
            </form>
        </div>

        <div class="row">
            <div class=" text-white">
                <h4>Novi korisnik</h4>
                <form>
                    <div class="form-group">
                        <label for="inpt_username">Username</label>
                        <input class="form-control" id="inpt_username" rows="3" ng-model="username"></input>
                    </div>
                    <div class="form-group">
                        <label for="inpt_password">Password</label>
                        <input class="form-control" id="inpt_password" rows="3" ng-model="password"></input>
                    </div>
                    <div class="form-group" ng-init="GetUserType()">
                        <label for="select_tip">Odaberite tip</label>
                        <select class="form-control" ng-model="tip" id="select_tip">
                            <option ng-repeat="tip in tipovi" value="{{tip.tip}}">
                                {{ tip.tip }}
                            </option>
                        </select>
                    </div>
                    <button class="btn btn-md btn-success" ng-click="AddUser()" style="float:right">Dodaj
                        korisnika</button>
                </form>
            </div>
            <div class=" text-white" ng-init="EditHistory()">
                <h4>Povijest uređivanja članka</h4>
                <table class="table table-dark">
                    <thead>
                        <tr>
                            <th scope="col">Naziv članka</th>
                            <th scope="col">Username</th>
                            <th scope="col">Datum</th>
                        </tr>
                    </thead>
                    <tbody ng-repeat="history in edit_history">
                        <tr>
                            <td>{{history.article_title}}</td>
                            <td>{{history.username}}</td>
                            <td>{{history.date|date:'dd.MM.yyyy'}}</td>
                    </tbody>
                </table>
            </div>
            <div class=" text-white" ng-init="getCategories()">
                <h4>Kategorije</h4>
                <table class="table table-dark">
                    <thead>
                        <tr>
                            <th scope="col">Naziv kategorije</th>
                            <th scope="col">Brisanje</th>
                        </tr>
                    </thead>
                    <tbody ng-repeat="category in categories">
                        <tr>
                            <td>{{category.categoryName}}</td>
                            <td><button class="btn btn-md btn-danger mb-3" ng-click="DeleteCategory(category.categoryID)"
                                ><i class="fa fa-trash" ></i></button></td>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- ---------------------------------------------------------------------------------------- Kategorije sa strane -->

    <section class="col-sm-2 desno" ng-init="getCategories()">
      <h1 class="text-white">Kategorije</h1>
    </section>
  </div>
</div>
